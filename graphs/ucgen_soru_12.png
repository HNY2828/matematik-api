import matplotlib.pyplot as plt
import numpy as np
from matplotlib.patches import Arc, Rectangle

# Noktalar (yaklaşık konumlandırma)
B = np.array([0, 0])
C = np.array([10, 0])
H = np.array([5, 0])
A = np.array([1.2, 6])
D = np.array([5, 3.2])  # AC üzerinde bir nokta

fig, ax = plt.subplots(figsize=(7,6))

# ABC üçgeni
ax.plot([A[0], B[0]], [A[1], B[1]], linewidth=3)
ax.plot([A[0], C[0]], [A[1], C[1]], linewidth=3)
ax.plot([B[0], C[0]], [B[1], C[1]], linewidth=3)

# BD ve DH
ax.plot([B[0], D[0]], [B[1], D[1]], linewidth=3)
ax.plot([D[0], H[0]], [D[1], H[1]], linewidth=3)

# Dik açı karesi (DH ⟂ BC)
right_angle = Rectangle((H[0]-0.4, H[1]), 0.8, 0.8, fill=False)
ax.add_patch(right_angle)

# BH = HC eşitlik işaretleri
mid_BH = (B + H) / 2
mid_HC = (H + C) / 2
ax.text(mid_BH[0], mid_BH[1]-0.3, "//", fontsize=14)
ax.text(mid_HC[0], mid_HC[1]-0.3, "//", fontsize=14)

# AB = DC eşitlik işaretleri
mid_AB = (A + B) / 2
mid_DC = (D + C) / 2
ax.text(mid_AB[0]-0.2, mid_AB[1], "//", fontsize=14, rotation=70)
ax.text(mid_DC[0]+0.2, mid_DC[1], "//", fontsize=14, rotation=-30)

# 20° açısı (∠ABD)
arc_20 = Arc(B, 2.0, 2.0, angle=0, theta1=40, theta2=60)
ax.add_patch(arc_20)
ax.text(B[0]+0.8, B[1]+1.2, "20°", fontsize=12)

# x açısı (∠DBC)
arc_x = Arc(B, 2.8, 2.8, angle=0, theta1=0, theta2=40)
ax.add_patch(arc_x)
ax.text(B[0]+1.3, B[1]+0.3, "x", fontsize=14)

# Nokta isimleri
ax.text(A[0], A[1]+0.3, "A", fontsize=14)
ax.text(B[0]-0.3, B[1]-0.4, "B", fontsize=14)
ax.text(C[0], C[1]-0.4, "C", fontsize=14)
ax.text(D[0], D[1]+0.2, "D", fontsize=14)
ax.text(H[0], H[1]-0.4, "H", fontsize=14)

# Görünüm
ax.set_aspect('equal')
ax.axis('off')

plt.savefig("ucgen_soru_12.png", dpi=300, bbox_inches='tight')
plt.show()
